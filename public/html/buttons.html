<!DOCTYPE html>
<html>
  <body>
    <img
      id="myImage"
      onclick="changeImage()"
      src="pic_bulboff.gif"
      width="100"
      height="180"
    />

    <p>Click the light bulb to turn on/off the light.</p>

    <script>
      function changeImage() {
        var image = document.getElementById("myImage");
        if (image.src.match("bulbon")) {
          image.src = "pic_bulboff.gif";
          image.onclick = "UserActionOn()";
        } else {
          image.src = "pic_bulbon.gif";
          image.onclick = "UserActionOff()";
        }
      }
      function UserActionOn() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            alert(this.responseText);
          }
        };
        xhttp.open("GET", "http://192.168.1.151:3000/users/lighton", true);
        xhttp.setRequestHeader("Content-type", "application/json");
        xhttp.send("Your JSON Data Here");
      }
      function UserActionOff() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            alert(this.responseText);
          }
        };
        xhttp.open("GET", "http://192.168.1.151:3000/users/lightoff", true);
        xhttp.setRequestHeader("Content-type", "application/json");
        xhttp.send("Your JSON Data Here");
      }
    </script>
  </body>
</html>
